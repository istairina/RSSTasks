import"./styles/index.scss";import{birdsData}from"./birds-data.js";const birdsPic=document.querySelector(".bird__pic"),birdsPicInfo=document.querySelector(".bird__pic-info"),birdsDesc=document.querySelector(".bird__description-info"),birdsName=document.querySelector(".bird__name"),birdsNameInfo=document.querySelector(".bird__name-info"),levelsMenu=document.querySelector(".levels__menu"),textAnswers=document.querySelectorAll(".answers__item"),textAnswersBlock=document.querySelector(".answers__list"),scoreField=document.querySelector(".score"),btnNext=document.querySelector(".btn-next"),gameInfo=document.querySelector(".game-info");let wrongSound=new Audio("../src/audio/wrong_answer.mp3"),birdsDataAnswers=[[],[],[],[],[],[]],score=0,scorePlus=5,finishRound=!1,resultBoolean=[];for(let e=0;e<6;e++)for(let r=0;r<6;r++)birdsDataAnswers[e].push(birdsData[e][r].name);function shuffle(e){for(let r=e.length-1;r>0;r--){let t=Math.floor(Math.random()*(r+1));[e[r],e[t]]=[e[t],e[r]]}}for(let e=0;e<6;e++)shuffle(birdsData[e]),shuffle(birdsDataAnswers[e]);for(let e=0;e<6;e++){resultBoolean.push([]);for(let r=0;r<6;r++)resultBoolean[e].push(!1)}let currentBlock=0,currentLevel=birdsData[currentBlock],currentLevelId=0,currentStage=0,currentBird=currentLevel[currentStage];function drawStage(){currentBird=currentLevel[currentStage],birdsPic.innerHTML=`<img src="${currentBird.image}" alt="">`,birdsName.innerHTML=`${currentBird.name} | ${currentBird.species}`,btnNext.classList.add("inactive");for(let e=0;e<6;e++)textAnswers[e].innerHTML=birdsDataAnswers[currentLevelId][e],textAnswers[e].classList.remove("wrong"),textAnswers[e].classList.remove("right");finishRound=!1,birdsName.classList.add("blur"),birdsPic.classList.add("blur")}function drawInfo(e){let r;for(let t=0;t<6;t++)currentLevel[t].name==e&&(r=currentLevel[t]);birdsPicInfo.innerHTML=`<img src="${r.image}" alt="">`,birdsNameInfo.innerHTML=`${r.name} | ${r.species}`,birdsDesc.innerHTML=`${r.description}`}drawStage(),levelsMenu.addEventListener("click",(e=>{for(let r=0;r<levelsMenu.childElementCount;r++)levelsMenu.children[r].classList.remove("active"),levelsMenu.children[r]==e.target&&(currentLevel=birdsData[r],currentLevelId=r,currentBlock=r,currentStage=0,drawStage());e.path[0].classList.add("active"),console.log(e.target)})),textAnswersBlock.addEventListener("click",(e=>{gameInfo.style="display: none",drawInfo(e.target.innerHTML),e.target.classList.contains("right")||e.target.classList.contains("wrong")||0!=finishRound||(e.target.innerHTML==currentBird.name?(e.target.classList.add("right"),1!=resultBoolean[currentBlock][currentStage]&&(score+=scorePlus,scorePlus=5),resultBoolean[currentBlock][currentStage]=!0,console.log(resultBoolean),birdsName.innerHTML=`${currentBird.name} | ${currentBird.species}`,birdsName.classList.remove("blur"),birdsPic.classList.remove("blur"),finishRound=!0,btnNext.classList.remove("inactive"),5==currentStage&&(btnNext.innerHTML="Next Block")):(e.target.classList.add("wrong"),wrongSound.play(),1!=resultBoolean[currentBlock][currentStage]&&scorePlus--),scoreField.innerHTML=score)})),btnNext.addEventListener("click",(()=>{1==finishRound?(5==currentStage?(levelsMenu.children[currentBlock].classList.remove("active"),console.log(5==currentBlock),5==currentBlock?currentBlock=0:currentBlock++,console.log(currentBlock),levelsMenu.children[currentBlock].classList.add("active"),currentLevel=birdsData[currentBlock],currentLevelId=currentBlock,currentStage=0,currentBird=currentLevel[currentStage],btnNext.innerHTML="Next Level"):currentStage++,drawStage()):alert("Для перехода к следующему раунду необходимо завершить текущий")}));